<app-home-header class="fixed-header"></app-home-header>

@if (feedbackMessage()) {
  <div class="feedback-banner">
    {{ feedbackMessage() }}
  </div>
}

<div class="main-wrapper">
  <div class="reset-container">
    <div class="card-wrapper">
      <!-- CARD 1 -->
      <div class="card card-token" [class.card1]="animateCard1()">
        <h2>REDEFINIR SENHA</h2>
        <p>
          Coloque seu e-mail ou username para que possamos enviar um código de redefinição de senha.
        </p>
        <form (submit)="sendToken($event)">
          <div class="form-group">
            <label for="email">USERNAME OU EMAIL</label>
            <input type="email" id="email" name="email" placeholder="@email.com" required />
          </div>
          <button type="submit" class="btn-submit">ENVIAR</button>
          <p class="resend-link">
            Código não enviado? <a href="#">Enviar novamente</a>
          </p>
        </form>
      </div>

      <!-- CARD 2 -->
      <div class="card card-reset card2" [class.visible]="isTokenSent()">
        <form (submit)="resetPassword($event)">
          <div class="form-group">
            <label for="token">CÓDIGO</label>
            <input type="text" id="token" name="token" placeholder="código" required />
          </div>
          <div class="form-group">
            <label for="password">NOVA SENHA</label>
            <input type="password" id="password" name="password" placeholder="senha" required />
          </div>
          <!-- FEEDBACK DE SENHA FORTE -->
          <div class="password-rules" id="password-rules">
            <p id="rule-length">• mínimo 6 caracteres</p>
            <p id="rule-upper">• ao menos 1 letra maiúscula</p>
            <p id="rule-lower">• ao menos 1 letra minúscula</p>
            <p id="rule-number">• ao menos 1 número</p>
            <p id="rule-special">• ao menos 1 caractere especial</p>
          </div>

          <!-- SENHAS DIFERENTES -->
          <p id="password-match" class="password-match">As senhas não coincidem</p>

          <div class="form-group">
            <label for="confirm-password">CONFIRMAR NOVA SENHA</label>
            <input
              type="password"
              id="confirm-password"
              name="confirm-password"
              placeholder="senha"
              required
            />
          </div>
          <button type="submit" class="btn-submit-alt">REDEFINIR SENHA</button>
        </form>
      </div>
    </div>
  </div>
</div>
