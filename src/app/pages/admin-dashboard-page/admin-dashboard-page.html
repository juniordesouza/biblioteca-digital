<app-admin-header (toggleSidebar)="toggleSidebar()"></app-admin-header>
<app-sidebar [isOpen]="sidebarOpen"></app-sidebar>

<div class="main-layout" [class.sidebar-open]="sidebarOpen">
  <main class="content">
    <h2>Lista de Usuários</h2>

    <div class="bulk-actions">
      <button class="btn-approve">Aprovar Selecionados</button>
      <button class="btn-reject">Recusar Selecionados</button>
    </div>

    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>
              <input
                type="checkbox"
                [checked]="allSelected"
                (change)="toggleSelectAll($event)"
              />
            </th>
            <th>Username</th>
            <th>Nome Completo</th>
            <th>E-mail</th>
            <th>Dt_Nasc</th>
            <th>CPF</th>
            <th>Endereço</th>
            <th>Telefone</th>
            <th>Status</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let user of usuarios">
            <td>
              <input
                type="checkbox"
                [(ngModel)]="user.selected"
                (change)="updateSelectAllState()"
              />
            </td>
            <td>{{ user.username }}</td>
            <td>{{ user.fullName }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.birthDate }}</td>
            <td>{{ user.cpf }}</td>
            <td>{{ user.endereco }}</td>
            <td>{{ user.telefone }}</td>
            <td>
              <span [style.color]="user.ativo ? 'green' : 'red'">
                {{ user.ativo ? 'Ativo' : 'Inativo' }}
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

  </main>
</div>
