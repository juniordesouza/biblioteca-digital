<app-admin-header (toggleSidebar)="toggleSidebar()"></app-admin-header>
<app-sidebar [isOpen]="sidebarOpen"></app-sidebar>

<div class="main-layout" [class.sidebar-open]="sidebarOpen">
  <main class="content">

    <h2>Lista de Livros</h2>

    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>
              <input
                type="checkbox"
                [checked]="allSelected"
                (change)="toggleSelectAll($event)"
              />
            </th>
            <th>ID</th>
            <th>Título</th>
            <th>Autor</th>
            <th>Editora</th>
            <th>Tema</th>
            <th>Obra</th>
            <th>Tags</th>
            <th>Ano</th>
            <th>Qtd</th>
            <th>Status</th>
            <th>Ativo</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let livro of livros">
            <td>
              <input
                type="checkbox"
                [(ngModel)]="livro.selected"
                (change)="updateSelectAllState()"
              />
            </td>

            <td>{{ livro.id }}</td>
            <td>{{ livro.titulo }}</td>
            <td>{{ livro.autor }}</td>
            <td>{{ livro.editora }}</td>
            <td>{{ livro.tema }}</td>
            <td>{{ livro.obra }}</td>
            <td>{{ livro.tags }}</td>
            <td>{{ livro.anoLancamento }}</td>
            <td>{{ livro.quantidadeDisponivel }}</td>

            <td>{{ livro.status }}</td>

            <td>
              <span [style.color]="livro.ativo ? 'lightgreen' : 'red'">
                {{ livro.ativo ? 'SIM' : 'NÃO' }}
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

  </main>
</div>
